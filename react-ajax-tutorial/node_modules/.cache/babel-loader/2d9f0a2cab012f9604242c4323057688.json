{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\ZB-PC079\\\\Desktop\\\\VELOPERT\\\\react-ajax-tutorial\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\ZB-PC079\\\\Desktop\\\\VELOPERT\\\\react-ajax-tutorial\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\ZB-PC079\\\\Desktop\\\\VELOPERT\\\\react-ajax-tutorial\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\ZB-PC079\\\\Desktop\\\\VELOPERT\\\\react-ajax-tutorial\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\ZB-PC079\\\\Desktop\\\\VELOPERT\\\\react-ajax-tutorial\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import'./Post.css';import{CommentList}from'../';var Post=/*#__PURE__*/function(_Component){_inherits(Post,_Component);function Post(props){var _this;_classCallCheck(this,Post);_this=_possibleConstructorReturn(this,_getPrototypeOf(Post).call(this,props));_this.state={postInfo:{title:null,body:null,comment:[]},animate:false,direction:'left'};return _this;}_createClass(Post,[{key:\"componentWillReceiveProps\",value:function componentWillReceiveProps(nextProps){var _this2=this;var title=nextProps.title,body=nextProps.body,comments=nextProps.comments;if(this.props.postId!==nextProps.postId){// identify the animation direction\nvar direction=this.props.postId<nextProps.postId?'left':'right';this.setState({direction:direction,animate:true});// sync the props to state 0.5 sec later\nsetTimeout(function(){_this2.setState({postInfo:{title:title,body:body,comments:comments},animate:false});},500);return;}// sync the props to state directly (this is the first post)\nthis.setState({postInfo:{title:title,body:body,comments:comments}});}},{key:\"render\",value:function render(){var _this$state$postInfo=this.state.postInfo,title=_this$state$postInfo.title,body=_this$state$postInfo.body,comments=_this$state$postInfo.comments;var _this$state=this.state,animate=_this$state.animate,direction=_this$state.direction;var animation=animate?direction==='left'?'bounceOutLeft':'bounceOutRight':direction==='left'?'bounceInRight':'bounceInLeft';// show nothing when data is not loaded\nif(title===null)return null;return React.createElement(\"div\",{className:\"Post animated \".concat(animation)},React.createElement(\"h1\",null,title),React.createElement(\"p\",null,body),React.createElement(CommentList,{comments:comments}));}}]);return Post;}(Component);export default Post;","map":{"version":3,"sources":["C:\\Users\\ZB-PC079\\Desktop\\VELOPERT\\react-ajax-tutorial\\src\\components\\Post\\Post.js"],"names":["React","Component","CommentList","Post","props","state","postInfo","title","body","comment","animate","direction","nextProps","comments","postId","setState","setTimeout","animation"],"mappings":"muBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,YAAP,CACA,OAASC,WAAT,KAA4B,KAA5B,C,GAEMC,CAAAA,I,8DACJ,cAAYC,KAAZ,CAAmB,sCACjB,sEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACXC,QAAQ,CAAE,CACRC,KAAK,CAAE,IADC,CAERC,IAAI,CAAE,IAFE,CAGRC,OAAO,CAAE,EAHD,CADC,CAMXC,OAAO,CAAE,KANE,CAOXC,SAAS,CAAE,MAPA,CAAb,CAFiB,aAWlB,C,6FAEyBC,S,CAAW,oBAE3BL,CAAAA,KAF2B,CAEDK,SAFC,CAE3BL,KAF2B,CAEpBC,IAFoB,CAEDI,SAFC,CAEpBJ,IAFoB,CAEdK,QAFc,CAEDD,SAFC,CAEdC,QAFc,CAInC,GAAI,KAAKT,KAAL,CAAWU,MAAX,GAAsBF,SAAS,CAACE,MAApC,CAA4C,CAC1C;AACA,GAAMH,CAAAA,SAAS,CAAG,KAAKP,KAAL,CAAWU,MAAX,CAAoBF,SAAS,CAACE,MAA9B,CAAuC,MAAvC,CAAgD,OAAlE,CAEA,KAAKC,QAAL,CAAc,CACZJ,SAAS,CAATA,SADY,CAEZD,OAAO,CAAE,IAFG,CAAd,EAKA;AACAM,UAAU,CACR,UAAM,CACJ,MAAI,CAACD,QAAL,CAAc,CACZT,QAAQ,CAAE,CACRC,KAAK,CAALA,KADQ,CACDC,IAAI,CAAJA,IADC,CACKK,QAAQ,CAARA,QADL,CADE,CAIZH,OAAO,CAAE,KAJG,CAAd,EAMD,CARO,CAQL,GARK,CAAV,CAUA,OACD,CAED;AACA,KAAKK,QAAL,CAAc,CACZT,QAAQ,CAAE,CACRC,KAAK,CAALA,KADQ,CACDC,IAAI,CAAJA,IADC,CACKK,QAAQ,CAARA,QADL,CADE,CAAd,EAKD,C,uCACQ,0BAC2B,KAAKR,KAAL,CAAWC,QADtC,CACCC,KADD,sBACCA,KADD,CACQC,IADR,sBACQA,IADR,CACcK,QADd,sBACcA,QADd,iBAGwB,KAAKR,KAH7B,CAGCK,OAHD,aAGCA,OAHD,CAGUC,SAHV,aAGUA,SAHV,CAKP,GAAMM,CAAAA,SAAS,CAAGP,OAAO,CACJC,SAAS,GAAG,MAAZ,CAAqB,eAArB,CAAuC,gBADnC,CAEJA,SAAS,GAAG,MAAZ,CAAqB,eAArB,CAAuC,cAF5D,CAIA;AACA,GAAGJ,KAAK,GAAG,IAAX,CAAiB,MAAO,KAAP,CAEjB,MACI,4BAAK,SAAS,yBAAmBU,SAAnB,CAAd,EACI,8BAAKV,KAAL,CADJ,CAEI,6BACKC,IADL,CAFJ,CAKI,oBAAC,WAAD,EAAa,QAAQ,CAAEK,QAAvB,EALJ,CADJ,CASH,C,kBArEkBZ,S,EAwEnB,cAAeE,CAAAA,IAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './Post.css';\r\nimport { CommentList } from '../';\r\n\r\nclass Post extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      postInfo: {\r\n        title: null,\r\n        body: null,\r\n        comment: []\r\n      },\r\n      animate: false,\r\n      direction: 'left'\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n\r\n    const { title, body, comments } = nextProps;\r\n\r\n    if (this.props.postId !== nextProps.postId) {\r\n      // identify the animation direction\r\n      const direction = this.props.postId < nextProps.postId ? 'left' : 'right';\r\n\r\n      this.setState({\r\n        direction,\r\n        animate: true\r\n      });\r\n\r\n      // sync the props to state 0.5 sec later\r\n      setTimeout(\r\n        () => {\r\n          this.setState({\r\n            postInfo: {\r\n              title, body, comments\r\n            },\r\n            animate: false\r\n          })\r\n        }, 500\r\n      );\r\n      return;\r\n    }\r\n\r\n    // sync the props to state directly (this is the first post)\r\n    this.setState({\r\n      postInfo: {\r\n        title, body, comments\r\n      }\r\n    })\r\n  }\r\n  render() {\r\n    const { title, body, comments } = this.state.postInfo;\r\n\r\n    const { animate, direction } = this.state;\r\n    \r\n    const animation = animate \r\n                      ? (direction==='left' ? 'bounceOutLeft' : 'bounceOutRight')\r\n                      : (direction==='left' ? 'bounceInRight' : 'bounceInLeft');\r\n\r\n    // show nothing when data is not loaded\r\n    if(title===null) return null;\r\n\r\n    return (\r\n        <div className={`Post animated ${animation}`}>\r\n            <h1>{title}</h1>\r\n            <p>\r\n                {body}\r\n            </p>\r\n            <CommentList comments={comments}/>\r\n        </div>\r\n    );\r\n}\r\n}\r\n\r\nexport default Post;"]},"metadata":{},"sourceType":"module"}